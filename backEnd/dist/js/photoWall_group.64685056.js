/*! Pumpkin@南瓜童鞋---www.pumpkinduan.cn */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["photoWall_group"],{"0418":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{ref:"site_header",staticClass:"clearfix site-header",style:{opacity:t.opacity,bgc:t.bgc}},[a("h1",{staticClass:"fl site-logo"},[a("router-link",{attrs:{to:"/"}},[t._v("pumpkin")])],1),a("nav",{staticClass:"site-nav fr"},[a("ul",{staticClass:"clearfix"},t._l(t.navLinks,(function(e,n,i){return a("li",{key:i},[a("router-link",{attrs:{to:{name:e.component,params:{showList:!0}}}},[t._v(t._s(e.name))])],1)})),0)]),a("div",{staticClass:"fr",attrs:{id:"nav_btn"},on:{click:function(e){t.show=!0}}},[t._m(0)]),a("transition",{attrs:{name:"menu"}},[a("section",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"menu"},[a("i",{staticClass:"iconfont iconarrow-right close",on:{click:function(e){e.stopPropagation(),t.show=!1}}}),a("ul",t._l(t.navLinks,(function(e,n,i){return a("li",{key:i},[a("i",{class:e.class}),a("router-link",{attrs:{to:{name:e.component,params:{showList:!0}}}},[t._v(t._s(e.name))])],1)})),0)])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"javascript:;"}})])])}],o=(a("7ae7"),a("f4a0"),{name:"HeaderNav",props:{opacity:{type:Number,default:.2},bgc:{type:String,default:"#000"}},data:function(){return{navLinks:[{class:"iconfont iconshouye",component:"articleList",name:"首页"},{class:"iconfont iconjilu",component:"category",name:"分类"},{class:"iconfont iconfaxian",component:"archive",name:"归档"},{class:"iconfont iconxingxing1",component:"photoWall",name:"相册墙"},{class:"iconfont iconguanyuwo",component:"about",name:"关于我"},{class:"iconfont el-icon-chat-line-square",component:"resume",name:"我的简历"}],show:!1}},methods:{onScroll:function(){document.documentElement.scrollTop>1?this.$refs.site_header&&(this.$refs.site_header.style="opacity: 1;background: #fff"):this.$refs.site_header&&(this.$refs.site_header.style="opacity:".concat(this.opacity,";background:").concat(this.bgc))}},mounted:function(){var t=this;this.$nextTick((function(){window.addEventListener("scroll",t.onScroll,!1)}))},destroyed:function(){window.removeEventListener("scroll",this.onScroll,!1)}}),s=o,r=(a("388c"),a("623f")),c=Object(r["a"])(s,n,i,!1,null,"731a69f4",null);e["a"]=c.exports},"09df":function(t,e,a){"use strict";var n=a("fdab"),i=a.n(n);i.a},"2e60":function(t,e,a){},"388c":function(t,e,a){"use strict";var n=a("bd5b"),i=a.n(n);i.a},4045:function(t,e,a){"use strict";var n=a("91fe"),i=a("6be9").indexOf,o=a("fb11"),s=a("6885"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),f=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!f},{indexOf:function(t){return c?r.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},5170:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"photo-wall"},[a("Header",{attrs:{opacity:1,bgc:"#fff"}}),a("div",{staticClass:"clearfix box"},[a("Quotation",{ref:"quotation",on:{sendGap:t.sendGap}}),a("div",{staticClass:"wrap"},[a("Waterfall",{ref:"waterfall",attrs:{cards:t.cards,gap:t.gap},on:{loadData:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return[a("div",{staticClass:"el-image",staticStyle:{"border-radius":"5px"}},[a("img",{staticStyle:{width:"100%","border-radius":"5px"},attrs:{src:t.serverUrl+"/"+n.path,alt:"加载失败"}}),a("span",{staticClass:"el-image__item-actions"},[a("span",{staticClass:"el-image__item-preview",on:{click:function(e){return t.handlePreview(n.path)}}},[a("i",{staticClass:"el-icon-zoom-in"})])])])]}}])})],1)],1),a("el-dialog",{attrs:{"lock-scroll":!1,top:"0",visible:t.dialogVisible,"show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})]),a("div",{class:[t.loading_gif?"block-loading":""]}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPrompt,expression:"showPrompt"}],staticClass:"prompt-text"},[t._v("亲，没有更多相片了噢~")])],1)},i=[],o=a("54d0"),s=a("0418"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("section",{ref:"quotation",staticClass:"quotation fl"},[a("el-carousel",{attrs:{interval:5e3,arrow:"never",height:"300px"}},t._l(t.quotations,(function(e,n){return a("el-carousel-item",{key:n},[a("p",{staticClass:"content"},[t._v(t._s(e.hitokoto))]),a("h3",[t._v("~ "+t._s(e.from)+" ~")])])})),1)],1)])},c=[],l=a("365c"),f={data:function(){return{quotations:[],flag:!1,timer:null,total:0}},created:function(){var t=this;this.getHitokoto(),this.timer=setInterval((function(){t.getHitokoto()}),1e4)},mounted:function(){this.$emit("sendGap",this.$refs.quotation.offsetHeight)},methods:{getHitokoto:function(){var t=this;Object(l["j"])().then((function(e){e&&(t.quotations.length>2?clearInterval(t.timer):t.quotations.push(e))})).catch((function(){var e;(e=t.quotations).push.apply(e,[{creator:"挪威的森林",hitokoto:"每个人都有属于自己的一片森林，也许我们从来不曾去过，但它一直在那里，总会在那里。迷失的人迷失了，相逢的人会再相逢。即使是你最心爱的人，心中都会有一片你无法到达的森林。"},{creator:"挪威的森林",hitokoto:"死并非生的对立面，而作为生的一部分永存"},{creator:"朱元璋",hitokoto:"你的就是我的，我的还是我的"}])}))}}},u=f,d=(a("b2c7"),a("623f")),h=Object(d["a"])(u,r,c,!1,null,"5125ed2e",null),p=h.exports,m="https://www.pumpkinduan.cn",g={serverUrl:m},v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"waterfall_container",staticClass:"waterfall-container"},t._l(t.cards,(function(e,n){return a("div",{key:n,ref:"waterfall_item",refInFor:!0,staticClass:"waterfall-item",style:{transition:"all .4s",padding:"0 "+t.gutter/2+"px"}},[t._t("default",null,{data:e})],2)})),0)},w=[],b=(a("7ae7"),a("af82"),a("4045"),a("f4a0"),a("9a14"),a("b4eb")),_={activated:function(){this.setPostion()},name:"waterFall",props:{gap:{type:Number,default:0},gutter:{type:Number,default:32},cards:{type:Array,default:function(){return[]}},backgroundColor:{type:String,default:"#eee"}},data:function(){return{screenWidth:document.documentElement.clientWidth,rowLeftX:[],rowHeightArr:[],width:240,loadPage:1,canLoad:!0,handleDebounce:"",handleThrottle:""}},created:function(){var t=this;this.handleDebounce=Object(b["b"])((function(){t.setPostion()}),550),this.handleThrottle=Object(b["f"])((function(){t.isloadedMore()&&(t.canLoad=!1,t.loadData())}),400)},mounted:function(){this.init()},updated:function(){this.setPostion()},watch:{cards:{handler:function(){this.canLoad=!0},immediate:!0}},methods:{init:function(){Object(b["a"])(window,"resize",this.handleDebounce),Object(b["a"])(window,"scroll",this.handleThrottle)},preLoadImg:function(t,e){t&&t.complete?e(t):(t.onload=function(){e(t)},t.onerror=function(){e(t)})},preLoadImgs:function(t){for(var e=this,a=this.$refs.waterfall_container&&this.$refs.waterfall_container.getElementsByTagName("img"),n=a&&a.length,i=0,o=0;o<n;o++)this.preLoadImg(a[o],(function(){i++,i===n&&t(e.$refs.waterfall_item)}))},setPostion:function(){var t=this;this.rowHeightArr=[],this.rowLeftX=[],this.screenWidth=document.documentElement.clientWidth;var e,a,n=this.screenWidth,i=this.gutter,o=this.rowLeftX,s=this.rowHeightArr,r=this.$refs.waterfall_container;this.preLoadImgs((function(c){if(c&&c.length){e=c[0].offsetWidth,a=Math.floor(n/e);for(var l=0;l<a;l++)l<a&&(o.push(l*e),0==l||1==l?s.push(t.gap+i):s.push(0));c.forEach((function(t){var e=Math.min.apply(null,s),a=s.indexOf(e);t.style.transform="translate(".concat(o[a],"px, ").concat(e,"px)"),t.style.opacity=1,s[a]+=Math.ceil(t.offsetHeight)+i}))}r.style.height=Math.max.apply(null,s)+"px",t.$parent.loading_gif=!1,t.$parent.showQuotation="visible",t.isloadedMore()&&(t.canLoad=!1,t.loadData())}))},isloadedMore:function(){if(this.canLoad){var t=this.rowHeightArr,e=this.$refs.waterfall_item&&this.$refs.waterfall_item.length-1,a=this.$refs.waterfall_item[e],n=Math.min.apply(null,t),i=a&&a.offsetHeight;if(i/8+n<window.innerHeight+document.documentElement.scrollTop+document.body.scrollTop)return!0}},loadData:function(){this.loadPage++,this.$emit("loadData",this.loadPage)}},destroyed:function(){Object(b["e"])(window,"resize",this.handleDebounce),Object(b["e"])(window,"scroll",this.handleThrottle)}},y=_,k=(a("d507"),Object(d["a"])(y,v,w,!1,null,"b7765088",null)),x=k.exports,I={components:{Quotation:p,Waterfall:x,Header:s["a"]},data:function(){return{cards:[],gap:300,page:1,serverUrl:g.serverUrl,dialogImageUrl:"",dialogVisible:!1,totalPhotoes:0,loading_gif:!1,showPrompt:!1}},created:function(){this.getData()},methods:{sendGap:function(t){this.gap=t},getData:function(t){var e=this;this.loading_gif=!0,Object(l["c"])(t).then((function(t){var a;t&&t.imgs&&(e.totalPhotoes=t.imgs.count,(a=e.cards).push.apply(a,Object(o["a"])(t.imgs.rows)))}))},loadData:function(t){0==this.totalPhotoes||this.totalPhotoes!==this.cards.length?this.getData(t):this.showPrompt=!0},handlePreview:function(t){this.dialogImageUrl=this.serverUrl+"/"+t,this.dialogVisible=!this.dialogVisible}}},C=I,E=(a("09df"),Object(d["a"])(C,n,i,!1,null,"4d1b5c75",null));e["default"]=E.exports},"60f2":function(t,e,a){var n=a("d68d"),i=a("4ce0");t.exports=function(t,e,a){var o,s;return i&&"function"==typeof(o=e.constructor)&&o!==a&&n(s=o.prototype)&&s!==a.prototype&&i(t,s),t}},"6da7":function(t,e,a){},b2c7:function(t,e,a){"use strict";var n=a("2e60"),i=a.n(n);i.a},bd5b:function(t,e,a){},d507:function(t,e,a){"use strict";var n=a("6da7"),i=a.n(n);i.a},f4a0:function(t,e,a){"use strict";var n=a("7a23"),i=a("d5dc"),o=a("12d9"),s=a("3d8a"),r=a("f28d"),c=a("67ea"),l=a("60f2"),f=a("7dc7"),u=a("f30e"),d=a("641d"),h=a("65af").f,p=a("4aef").f,m=a("c223").f,g=a("03fa").trim,v="Number",w=i[v],b=w.prototype,_=c(d(b))==v,y=function(t){var e,a,n,i,o,s,r,c,l=f(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(o=l.slice(2),s=o.length,r=0;r<s;r++)if(c=o.charCodeAt(r),c<48||c>i)return NaN;return parseInt(o,n)}return+l};if(o(v,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(_?u((function(){b.valueOf.call(a)})):c(a)!=v)?l(new w(y(e)),a,x):y(e)},I=n?h(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;I.length>C;C++)r(w,k=I[C])&&!r(x,k)&&m(x,k,p(w,k));x.prototype=b,b.constructor=x,s(i,v,x)}},fdab:function(t,e,a){}}]);